<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{company.name}} | Make.com Sales Opportunity</title>
    <meta name="description" content="{{company.description}}">
    <meta name="view-transition" content="same-origin">
    <meta name="color-scheme" content="light dark">
    <link rel="icon" href="data:image/svg+xml,&lt;svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'&gt;&lt;text y='0.9em' font-size='90'&gt;🚀&lt;/text&gt;&lt;/svg&gt;">
    
    <style>
        /* CSS Layers for Perfect Cascade Control */
        @layer reset, design-tokens, components, layouts, utilities, overrides;
        
        @layer reset {
            *, *::before, *::after {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }
            
            html {
                scroll-behavior: smooth;
                scroll-padding-top: 100px;
                font-synthesis: none;
                text-rendering: optimizeLegibility;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            
            body {
                margin: 0;
                overflow-x: hidden;
                font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                font-feature-settings: 'liga' 1, 'kern' 1;
                line-height: 1.6;
            }
        }
        
        @layer design-tokens {
            :root {
                /* Color System with Modern CSS Color Functions */
                --primary-hsl: 253 91% 68%;
                --primary: oklch(0.7 0.15 280);
                --primary-variant: color-mix(in oklch, var(--primary), white 20%);
                --on-primary: oklch(1 0 0);
                
                --secondary-hsl: 142 71% 45%;
                --secondary: oklch(0.65 0.15 150);
                --on-secondary: oklch(1 0 0);
                
                --surface: oklch(0.98 0.005 280);
                --surface-variant: oklch(0.95 0.01 280);
                --surface-container: oklch(0.92 0.015 280);
                --on-surface: oklch(0.2 0.02 280);
                --on-surface-variant: oklch(0.45 0.03 280);
                
                --outline: oklch(0.7 0.04 280);
                --outline-variant: oklch(0.85 0.02 280);
                
                --warning: oklch(0.7 0.12 80);
                --error: oklch(0.65 0.15 20);
                --success: oklch(0.65 0.15 150);
                
                /* Dark Mode Colors */
                --dark-surface: oklch(0.12 0.02 280);
                --dark-surface-variant: oklch(0.18 0.03 280);
                --dark-on-surface: oklch(0.9 0.01 280);
                
                /* Spacing System */
                --space-xs: 0.25rem;
                --space-sm: 0.5rem;
                --space-md: 1rem;
                --space-lg: 1.5rem;
                --space-xl: 2rem;
                --space-2xl: 3rem;
                --space-3xl: 4rem;
                
                /* Typography Scale */
                --text-xs: clamp(0.75rem, 0.7rem + 0.2vw, 0.8rem);
                --text-sm: clamp(0.875rem, 0.8rem + 0.3vw, 0.95rem);
                --text-md: clamp(1rem, 0.95rem + 0.25vw, 1.1rem);
                --text-lg: clamp(1.125rem, 1rem + 0.5vw, 1.25rem);
                --text-xl: clamp(1.25rem, 1.1rem + 0.7vw, 1.5rem);
                --text-2xl: clamp(1.5rem, 1.3rem + 1vw, 2rem);
                --text-3xl: clamp(1.875rem, 1.5rem + 1.5vw, 2.5rem);
                --text-4xl: clamp(2.25rem, 1.8rem + 2vw, 3.5rem);
                
                /* Radius System */
                --radius-sm: 0.375rem;
                --radius-md: 0.5rem;
                --radius-lg: 0.75rem;
                --radius-xl: 1rem;
                --radius-2xl: 1.5rem;
                
                /* Shadows with Light/Dark Variants */
                --shadow-sm: 0 1px 2px 0 color-mix(in srgb, var(--on-surface) 5%, transparent);
                --shadow-md: 0 4px 6px -1px color-mix(in srgb, var(--on-surface) 7%, transparent);
                --shadow-lg: 0 10px 15px -3px color-mix(in srgb, var(--on-surface) 10%, transparent);
                --shadow-xl: 0 20px 25px -5px color-mix(in srgb, var(--on-surface) 15%, transparent);
                
                /* Animations */
                --ease-in-out-quart: cubic-bezier(0.77, 0, 0.175, 1);
                --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
                --ease-spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);
                
                /* Grid */
                --grid-max-width: 80rem;
                --grid-gutter: var(--space-md);
            }
            
            @media (prefers-color-scheme: dark) {
                :root {
                    --surface: var(--dark-surface);
                    --surface-variant: var(--dark-surface-variant);
                    --on-surface: var(--dark-on-surface);
                    --surface-container: oklch(0.15 0.025 280);
                    --outline: oklch(0.4 0.04 280);
                    --outline-variant: oklch(0.25 0.03 280);
                }
            }
        }
        
        @layer components {
            /* Modern Button Component */
            .btn {
                --_btn-bg: var(--primary);
                --_btn-color: var(--on-primary);
                --_btn-hover-bg: color-mix(in oklch, var(--primary), white 15%);
                
                display: inline-flex;
                align-items: center;
                gap: var(--space-sm);
                padding: var(--space-sm) var(--space-lg);
                border: none;
                border-radius: var(--radius-md);
                background: var(--_btn-bg);
                color: var(--_btn-color);
                font-size: var(--text-sm);
                font-weight: 600;
                text-decoration: none;
                cursor: pointer;
                transition: all 300ms var(--ease-out-expo);
                transform-origin: center;
                user-select: none;
                
                &:hover {
                    background: var(--_btn-hover-bg);
                    transform: translateY(-2px) scale(1.02);
                    box-shadow: var(--shadow-lg);
                }
                
                &:active {
                    transform: translateY(0) scale(0.98);
                    transition-duration: 100ms;
                }
                
                &.secondary {
                    --_btn-bg: var(--surface-variant);
                    --_btn-color: var(--on-surface);
                    --_btn-hover-bg: var(--surface-container);
                }
            }
            
            /* Status Badges with Modern Design */
            .status-badge {
                --_badge-bg: var(--warning);
                
                display: inline-flex;
                align-items: center;
                gap: var(--space-xs);
                padding: var(--space-xs) var(--space-sm);
                border-radius: var(--radius-2xl);
                background: var(--_badge-bg);
                color: var(--on-primary);
                font-size: var(--text-xs);
                font-weight: 700;
                text-transform: uppercase;
                letter-spacing: 0.05em;
                
                &[data-status="completed"] { --_badge-bg: var(--success); }
                &[data-status="demo"] { --_badge-bg: var(--primary); }
                &[data-status="stalled"] { --_badge-bg: var(--warning); }
                &[data-status="won"] { --_badge-bg: var(--success); }
                &[data-status="lost"] { --_badge-bg: var(--error); }
            }
            
            /* Health Indicator */
            .health-dot {
                width: 8px;
                height: 8px;
                border-radius: 50%;
                background: currentColor;
                
                &[data-health="green"] { color: var(--success); }
                &[data-health="yellow"] { color: var(--warning); }
                &[data-health="red"] { color: var(--error); }
            }
            
            /* Modern Card Component */
            .card {
                background: var(--surface-variant);
                border: 1px solid var(--outline-variant);
                border-radius: var(--radius-lg);
                padding: var(--space-lg);
                transition: all 300ms var(--ease-out-expo);
                
                &:hover {
                    transform: translateY(-4px);
                    box-shadow: var(--shadow-xl);
                    border-color: color-mix(in oklch, var(--primary), transparent 70%);
                }
            }
            
            /* Collapsible Sections with Smooth Animations */
            .collapsible {
                border: 1px solid var(--outline-variant);
                border-radius: var(--radius-lg);
                margin-bottom: var(--space-lg);
                overflow: hidden;
                transition: all 300ms var(--ease-out-expo);
                
                &:hover {
                    box-shadow: var(--shadow-md);
                }
            }
            
            .collapsible-header {
                background: var(--surface-variant);
                padding: var(--space-lg);
                cursor: pointer;
                display: flex;
                justify-content: space-between;
                align-items: center;
                user-select: none;
                transition: background 200ms ease;
                
                &:hover {
                    background: var(--surface-container);
                }
            }
            
            .collapsible-title {
                font-size: var(--text-lg);
                font-weight: 700;
                color: var(--on-surface);
            }
            
            .collapsible-icon {
                font-size: var(--text-xl);
                color: var(--on-surface-variant);
                transition: transform 300ms var(--ease-spring);
            }
            
            .collapsible.expanded .collapsible-icon {
                transform: rotate(180deg);
            }
            
            .collapsible-content {
                max-height: 0;
                overflow: hidden;
                transition: max-height 500ms var(--ease-out-expo);
            }
            
            .collapsible.expanded .collapsible-content {
                max-height: 100vh;
            }
            
            .collapsible-body {
                padding: var(--space-lg);
                background: var(--surface);
            }
        }
        
        @layer layouts {
            body {
                background: var(--surface);
                color: var(--on-surface);
                font-size: var(--text-md);
            }
            
            /* Container with CSS Grid */
            .container {
                max-width: var(--grid-max-width);
                margin: 0 auto;
                padding: 0 var(--grid-gutter);
                
                @container (max-width: 768px) {
                    padding: 0 var(--space-md);
                }
            }
            
            /* Modern Navigation */
            .nav {
                position: sticky;
                top: 0;
                z-index: 1000;
                backdrop-filter: blur(20px) saturate(180%);
                background: color-mix(in srgb, var(--surface) 80%, transparent);
                border-bottom: 1px solid var(--outline-variant);
                padding: var(--space-md) 0;
            }
            
            .nav-content {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            .nav-brand {
                font-size: var(--text-lg);
                font-weight: 800;
                color: var(--primary);
                text-decoration: none;
            }
            
            .nav-links {
                display: flex;
                gap: var(--space-lg);
                list-style: none;
                
                @container (max-width: 768px) {
                    display: none;
                }
            }
            
            .nav-link {
                color: var(--on-surface-variant);
                text-decoration: none;
                font-weight: 600;
                position: relative;
                transition: color 200ms ease;
                
                &:hover, &.active {
                    color: var(--primary);
                }
                
                &.active::after {
                    content: '';
                    position: absolute;
                    bottom: -24px;
                    left: 0;
                    right: 0;
                    height: 2px;
                    background: var(--primary);
                    border-radius: 1px;
                }
            }
            
            /* Hero Section with Gradient */
            .hero {
                padding: var(--space-3xl) 0;
                background: linear-gradient(135deg, 
                    var(--surface-variant) 0%, 
                    color-mix(in oklch, var(--primary), transparent 92%) 100%);
                border-bottom: 1px solid var(--outline-variant);
                text-align: center;
            }
            
            .company-name {
                font-size: var(--text-4xl);
                font-weight: 900;
                background: linear-gradient(135deg, var(--primary), var(--secondary));
                background-clip: text;
                -webkit-background-clip: text;
                color: transparent;
                margin-bottom: var(--space-sm);
                letter-spacing: -0.02em;
            }
            
            .company-meta {
                font-size: var(--text-lg);
                color: var(--on-surface-variant);
                margin-bottom: var(--space-md);
            }
            
            .company-description {
                font-size: var(--text-md);
                color: var(--on-surface-variant);
                max-width: 60ch;
                margin: 0 auto;
            }
            
            /* Status Dashboard with CSS Grid */
            .status-dashboard {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: var(--space-lg);
                margin: var(--space-3xl) 0;
            }
            
            .status-card {
                background: var(--surface-variant);
                border: 1px solid var(--outline-variant);
                border-radius: var(--radius-lg);
                padding: var(--space-lg);
                position: relative;
                overflow: hidden;
                transition: all 300ms var(--ease-out-expo);
                
                &::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    height: 3px;
                    background: linear-gradient(90deg, var(--primary), var(--secondary));
                }
                
                &:hover {
                    transform: translateY(-4px);
                    box-shadow: var(--shadow-xl);
                }
            }
            
            .status-label {
                font-size: var(--text-xs);
                font-weight: 700;
                color: var(--on-surface-variant);
                text-transform: uppercase;
                letter-spacing: 0.1em;
                margin-bottom: var(--space-sm);
            }
            
            .status-value {
                font-size: var(--text-xl);
                font-weight: 800;
                color: var(--on-surface);
                margin-bottom: var(--space-xs);
            }
            
            .status-meta {
                font-size: var(--text-sm);
                color: var(--on-surface-variant);
            }
            
            /* Section Layouts */
            .section {
                margin: var(--space-3xl) 0;
            }
            
            .section-header {
                text-align: center;
                margin-bottom: var(--space-2xl);
            }
            
            .section-title {
                font-size: var(--text-3xl);
                font-weight: 800;
                color: var(--on-surface);
                margin-bottom: var(--space-sm);
                letter-spacing: -0.01em;
            }
            
            .section-subtitle {
                font-size: var(--text-md);
                color: var(--on-surface-variant);
            }
            
            /* Grid Layouts */
            .card-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: var(--space-lg);
            }
            
            .contact-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: var(--space-lg);
            }
            
            .systems-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: var(--space-md);
            }
        }
        
        @layer utilities {
            .text-center { text-align: center; }
            .font-bold { font-weight: 700; }
            .hidden { display: none !important; }
            
            /* View Transition Names */
            .company-name { view-transition-name: company-name; }
            .status-dashboard { view-transition-name: status-dashboard; }
            .nav { view-transition-name: navigation; }
        }
        
        /* CSS Container Queries */
        @container (max-width: 768px) {
            .status-dashboard,
            .card-grid,
            .contact-grid,
            .systems-grid {
                grid-template-columns: 1fr;
            }
            
            .collapsible-header {
                padding: var(--space-md);
            }
            
            .collapsible-body {
                padding: var(--space-md);
            }
        }
        
        /* Advanced Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .animate-in {
            animation: slideInUp 600ms var(--ease-out-expo) both;
        }
        
        .fade-in {
            animation: fadeIn 400ms ease both;
        }
        
        /* Intersection Observer Animations */
        .intersection-animate {
            opacity: 0;
            transform: translateY(20px);
            transition: all 600ms var(--ease-out-expo);
        }
        
        .intersection-animate.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Print Styles */
        @media print {
            .nav, .collapsible-icon { display: none; }
            .collapsible-content { max-height: none !important; }
            .section { break-inside: avoid; }
            * { color-adjust: exact; }
        }
        
        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation with Backdrop Filter -->
    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <a href="#" class="nav-brand">{{company.name}} Opportunity</a>
                <ul class="nav-links">
                    <li><a href="#overview" class="nav-link">Overview</a></li>
                    <li><a href="#contacts" class="nav-link">Contacts</a></li>
                    <li><a href="#technical" class="nav-link">Technical</a></li>
                    <li><a href="#timeline" class="nav-link">Timeline</a></li>
                    <li><a href="#risks" class="nav-link">Risks</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <div class="container">
            <div class="animate-in">
                <h1 class="company-name">{{company.name}}</h1>
                <div class="company-meta">{{company.location}} • {{company.industry}}</div>
                {{#company.description}}
                <p class="company-description">{{company.description}}</p>
                {{/company.description}}
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Status Dashboard -->
        <section class="status-dashboard intersection-animate">
            <div class="status-card">
                <div class="status-label">Current Stage</div>
                <div class="status-value">
                    <span class="status-badge" data-status="{{status.stage}}">
                        <span class="health-dot" data-health="{{status.health}}"></span>
                        {{status.stage}}
                    </span>
                </div>
                <div class="status-meta">{{status.currentPhase}}</div>
            </div>
            
            <div class="status-card">
                <div class="status-label">Last Activity</div>
                <div class="status-value">{{status.lastActivity}}</div>
                <div class="status-meta">{{status.salesCycle}}</div>
            </div>
            
            <div class="status-card">
                <div class="status-label">Next Action</div>
                <div class="status-value">{{status.nextAction}}</div>
                <div class="status-meta">Critical for momentum</div>
            </div>

            {{#overview.value}}
            <div class="status-card">
                <div class="status-label">Opportunity Value</div>
                <div class="status-value">{{overview.value}}</div>
                <div class="status-meta">Multi-year potential</div>
            </div>
            {{/overview.value}}
        </section>

        <!-- Overview Section -->
        <section id="overview" class="section intersection-animate">
            <div class="section-header">
                <h2 class="section-title">Business Overview</h2>
                <p class="section-subtitle">Understanding the opportunity and business drivers</p>
            </div>

            <div class="collapsible expanded">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Use Case & Solution</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div style="background: linear-gradient(135deg, var(--primary), color-mix(in oklch, var(--primary), var(--secondary) 30%)); color: var(--on-primary); padding: var(--space-lg); border-radius: var(--radius-lg); margin-bottom: var(--space-lg);">
                            <h4 style="font-size: var(--text-lg); font-weight: 700; margin-bottom: var(--space-sm);">{{overview.useCase}}</h4>
                            <p style="opacity: 0.9;">{{overview.solution}}</p>
                        </div>
                        
                        {{#overview.businessDrivers}}
                        <h4 style="margin-bottom: var(--space-md); color: var(--on-surface); font-weight: 700;">Business Drivers</h4>
                        <div style="display: grid; gap: var(--space-sm);">
                            {{#overview.businessDrivers}}
                            <div style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--surface-variant); border-radius: var(--radius-md);">
                                <span style="color: var(--success); font-size: var(--text-lg);">✓</span>
                                <span>{{.}}</span>
                            </div>
                            {{/overview.businessDrivers}}
                        </div>
                        {{/overview.businessDrivers}}

                        <div style="margin-top: var(--space-lg); padding: var(--space-lg); background: var(--surface-variant); border-radius: var(--radius-md);">
                            <h4 style="margin-bottom: var(--space-sm); color: var(--on-surface); font-weight: 700;">Current Pain Points</h4>
                            <p style="color: var(--on-surface-variant);">{{overview.pain}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contacts Section -->
        <section id="contacts" class="section intersection-animate">
            <div class="section-header">
                <h2 class="section-title">Key Stakeholders</h2>
                <p class="section-subtitle">Decision makers and technical contacts</p>
            </div>

            <div class="collapsible expanded">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Customer Team</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div class="contact-grid">
                            <!-- Primary Contact -->
                            <div class="card" style="border-left: 4px solid var(--primary);">
                                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">
                                    {{contacts.primary.name}} ⭐
                                </div>
                                <div style="font-size: var(--text-sm); color: var(--on-surface-variant); margin-bottom: var(--space-sm);">
                                    {{contacts.primary.role}}
                                </div>
                                <div style="font-size: var(--text-sm);">
                                    <a href="mailto:{{contacts.primary.email}}" style="color: var(--primary); text-decoration: none; font-weight: 600;">{{contacts.primary.email}}</a>
                                    {{#contacts.primary.phone}}
                                    <br><span style="color: var(--on-surface-variant);">{{contacts.primary.phone}}</span>
                                    {{/contacts.primary.phone}}
                                </div>
                                {{#contacts.primary.notes}}
                                <div style="font-size: var(--text-xs); color: var(--on-surface-variant); margin-top: var(--space-sm); padding-top: var(--space-sm); border-top: 1px solid var(--outline-variant); font-style: italic;">
                                    {{contacts.primary.notes}}
                                </div>
                                {{/contacts.primary.notes}}
                            </div>

                            <!-- Technical Contacts -->
                            {{#contacts.technical}}
                            <div class="card">
                                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">{{name}}</div>
                                <div style="font-size: var(--text-sm); color: var(--on-surface-variant); margin-bottom: var(--space-sm);">{{role}}</div>
                                <div style="font-size: var(--text-sm);">
                                    {{#email}}
                                    <a href="mailto:{{email}}" style="color: var(--primary); text-decoration: none; font-weight: 600;">{{email}}</a>
                                    {{/email}}
                                    {{#phone}}
                                    <br><span style="color: var(--on-surface-variant);">{{phone}}</span>
                                    {{/phone}}
                                </div>
                                {{#notes}}
                                <div style="font-size: var(--text-xs); color: var(--on-surface-variant); margin-top: var(--space-sm); padding-top: var(--space-sm); border-top: 1px solid var(--outline-variant); font-style: italic;">
                                    {{notes}}
                                </div>
                                {{/notes}}
                            </div>
                            {{/contacts.technical}}
                        </div>
                    </div>
                </div>
            </div>

            {{#contacts.makeTeam}}
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Make.com Team</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div class="contact-grid">
                            {{#contacts.makeTeam}}
                            <div class="card">
                                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">{{name}}</div>
                                <div style="font-size: var(--text-sm); color: var(--on-surface-variant); margin-bottom: var(--space-sm);">{{role}}</div>
                                <div style="font-size: var(--text-sm);">
                                    <a href="mailto:{{email}}" style="color: var(--primary); text-decoration: none; font-weight: 600;">{{email}}</a>
                                </div>
                                {{#notes}}
                                <div style="font-size: var(--text-xs); color: var(--on-surface-variant); margin-top: var(--space-sm); padding-top: var(--space-sm); border-top: 1px solid var(--outline-variant); font-style: italic;">
                                    {{notes}}
                                </div>
                                {{/notes}}
                            </div>
                            {{/contacts.makeTeam}}
                        </div>
                    </div>
                </div>
            </div>
            {{/contacts.makeTeam}}
        </section>

        <!-- Technical Section -->
        <section id="technical" class="section intersection-animate">
            <div class="section-header">
                <h2 class="section-title">Technical Architecture</h2>
                <p class="section-subtitle">Integration approach and system requirements</p>
            </div>

            <div class="collapsible expanded">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Architecture Overview</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div style="display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-lg);">
                            <span style="font-weight: 700;">Complexity:</span>
                            <span class="status-badge" data-status="{{technical.complexity}}" style="text-transform: uppercase;">{{technical.complexity}}</span>
                        </div>

                        {{#technical.architecture}}
                        <div style="background: var(--surface-variant); border: 1px solid var(--outline-variant); border-radius: var(--radius-lg); padding: var(--space-lg); margin: var(--space-lg) 0; font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace; font-size: var(--text-sm); overflow-x: auto;">
                            <h4 style="margin-bottom: var(--space-sm); color: var(--on-surface); font-family: inherit;">Data Flow</h4>
                            <div style="white-space: pre-wrap;">{{technical.architecture.dataFlow}}</div>
                        </div>

                        <h4 style="margin: var(--space-lg) 0 var(--space-md) 0; color: var(--on-surface); font-weight: 700;">Integration Components</h4>
                        <div style="display: grid; gap: var(--space-sm);">
                            {{#technical.architecture.components}}
                            <div style="display: flex; align-items: center; gap: var(--space-sm); padding: var(--space-sm); background: var(--surface-variant); border-radius: var(--radius-md);">
                                <span style="font-size: var(--text-lg);">🔧</span>
                                <span>{{.}}</span>
                            </div>
                            {{/technical.architecture.components}}
                        </div>
                        {{/technical.architecture}}
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Systems Integration</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div class="systems-grid">
                            {{#technical.systems}}
                            <div class="card">
                                <div style="font-size: var(--text-md); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">{{name}}</div>
                                <div style="font-size: var(--text-xs); color: var(--on-surface-variant); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: var(--space-sm);">{{type}} • {{deployment}}</div>
                                <div style="font-size: var(--text-sm); color: var(--on-surface-variant);">{{details}}</div>
                            </div>
                            {{/technical.systems}}
                        </div>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Technical Challenges</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div style="display: grid; gap: var(--space-sm);">
                            {{#technical.challenges}}
                            <div style="background: color-mix(in oklch, var(--error), transparent 95%); border-left: 3px solid var(--error); padding: var(--space-md); border-radius: 0 var(--radius-md) var(--radius-md) 0; font-size: var(--text-sm); line-height: 1.5;">
                                {{.}}
                            </div>
                            {{/technical.challenges}}
                        </div>
                    </div>
                </div>
            </div>

            {{#technical.developmentApproach}}
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Development Approach</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div class="card-grid">
                            <div class="card">
                                <div style="margin-bottom: var(--space-md);">
                                    <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">Technology Stack</div>
                                </div>
                                <div style="font-size: var(--text-sm); line-height: 1.6;">
                                    <p><strong>Platform:</strong> {{technical.developmentApproach.preferredTechnology}}</p>
                                    <p><strong>SDK License:</strong> {{technical.developmentApproach.sdkLicense}}</p>
                                    <p><strong>Programming Model:</strong> {{technical.developmentApproach.programmingModel}}</p>
                                </div>
                            </div>

                            <div class="card">
                                <div style="margin-bottom: var(--space-md);">
                                    <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">Integration Pattern</div>
                                </div>
                                <div style="font-size: var(--text-sm); line-height: 1.6;">
                                    <p><strong>API Pattern:</strong> {{technical.developmentApproach.apiPattern}}</p>
                                    <p><strong>Data Format:</strong> {{technical.developmentApproach.dataFormat}}</p>
                                    <p><strong>Security:</strong> {{technical.developmentApproach.securityModel}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {{/technical.developmentApproach}}
        </section>

        <!-- Timeline Section -->
        <section id="timeline" class="section intersection-animate">
            <div class="section-header">
                <h2 class="section-title">Project Timeline</h2>
                <p class="section-subtitle">Milestones and implementation schedule</p>
            </div>

            <div class="collapsible expanded">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Sales Milestones</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div style="position: relative; margin: var(--space-lg) 0;">
                            <div style="position: absolute; left: 20px; top: 0; bottom: 0; width: 2px; background: var(--outline);"></div>
                            {{#timeline.milestones}}
                            <div style="position: relative; padding: var(--space-md) 0 var(--space-md) 60px; margin-bottom: var(--space-md);">
                                <div style="position: absolute; left: 14px; top: 20px; width: 12px; height: 12px; border-radius: 50%; background: var(--primary); border: 2px solid var(--surface);"></div>
                                <div style="font-size: var(--text-xs); font-weight: 700; color: var(--on-surface-variant); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: var(--space-xs);">{{date}}</div>
                                <div style="font-size: var(--text-md); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">{{event}}</div>
                                {{#details}}
                                <div style="font-size: var(--text-sm); color: var(--on-surface-variant); margin-bottom: var(--space-sm);">{{details}}</div>
                                {{/details}}
                                <span class="status-badge" data-status="{{status}}">{{status}}</span>
                            </div>
                            {{/timeline.milestones}}
                        </div>

                        {{#timeline.expectedClose}}
                        <div style="margin-top: var(--space-lg); padding: var(--space-md); background: var(--surface-variant); border-radius: var(--radius-md);">
                            <strong>Expected Close:</strong> {{timeline.expectedClose}}
                        </div>
                        {{/timeline.expectedClose}}
                    </div>
                </div>
            </div>

            {{#timeline.implementationTimeline}}
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Implementation Timeline</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div class="card-grid">
                            <div class="card">
                                <div style="margin-bottom: var(--space-md);">
                                    <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">Custom SDK Development</div>
                                    <div style="font-size: var(--text-sm); color: var(--on-surface-variant);">Full integration approach</div>
                                </div>
                                <div style="font-size: var(--text-sm); line-height: 1.6;">
                                    <p><strong>Timeline:</strong> {{timeline.implementationTimeline.customSDK}}</p>
                                    <p>Includes planning, development, and testing phases</p>
                                </div>
                            </div>

                            {{#timeline.implementationTimeline.cloudMigration}}
                            <div class="card">
                                <div style="margin-bottom: var(--space-md);">
                                    <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">Cloud Migration Alternative</div>
                                    <div style="font-size: var(--text-sm); color: var(--on-surface-variant);">Faster time-to-value</div>
                                </div>
                                <div style="font-size: var(--text-sm); line-height: 1.6;">
                                    <p><strong>Timeline:</strong> {{timeline.implementationTimeline.cloudMigration}}</p>
                                    <p>Migration plus standard API integration</p>
                                </div>
                            </div>
                            {{/timeline.implementationTimeline.cloudMigration}}
                        </div>
                    </div>
                </div>
            </div>
            {{/timeline.implementationTimeline}}
        </section>

        <!-- Risks Section -->
        <section id="risks" class="section intersection-animate">
            <div class="section-header">
                <h2 class="section-title">Risk Assessment</h2>
                <p class="section-subtitle">Potential blockers and mitigation strategies</p>
            </div>

            <div class="collapsible expanded">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Risk Analysis</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div style="display: grid; gap: var(--space-md);">
                            {{#risks}}
                            <div class="card">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-sm);">
                                    <div style="font-size: var(--text-md); font-weight: 600; color: var(--on-surface); flex: 1; margin-right: var(--space-md);">{{description}}</div>
                                    <span class="status-badge" data-status="{{impact}}" style="text-transform: uppercase;">{{impact}} impact</span>
                                </div>
                                <div style="font-size: var(--text-sm); color: var(--on-surface-variant); line-height: 1.5;">
                                    <strong>Mitigation:</strong> {{mitigation}}
                                </div>
                            </div>
                            {{/risks}}
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        {{#pricing}}
        <section class="section intersection-animate">
            <div class="section-header">
                <h2 class="section-title">Investment & ROI</h2>
                <p class="section-subtitle">Pricing structure and expansion opportunities</p>
            </div>

            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Current Proposal</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div style="background: linear-gradient(135deg, var(--primary), color-mix(in oklch, var(--primary), var(--secondary) 30%)); color: var(--on-primary); border-radius: var(--radius-lg); padding: var(--space-2xl); text-align: center; margin: var(--space-lg) 0;">
                            <div style="font-size: var(--text-2xl); font-weight: 800; margin-bottom: var(--space-sm);">{{pricing.currentProposal.totalYear1}}</div>
                            <div style="opacity: 0.9; margin-bottom: var(--space-lg);">Year 1 Investment</div>
                            <div style="text-align: left;">
                                <p>Platform Fee: {{pricing.currentProposal.platformFee}}</p>
                                <p>Operations: {{pricing.currentProposal.operationsCost}}</p>
                                <p>Implementation: {{pricing.currentProposal.implementation}}</p>
                                <p style="margin-top: var(--space-sm); font-size: var(--text-sm); opacity: 0.9;">
                                    Recurring: {{pricing.currentProposal.annualRecurring}} annually
                                </p>
                            </div>
                        </div>

                        <div style="margin-top: var(--space-md); padding: var(--space-md); background: var(--surface-variant); border-radius: var(--radius-md); font-size: var(--text-sm);">
                            <strong>Operations Example:</strong> {{pricing.currentProposal.operationsExample}}
                        </div>
                    </div>
                </div>
            </div>

            {{#pricing.expansionOpportunity}}
            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Expansion Opportunity</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        <div class="card">
                            <div style="margin-bottom: var(--space-md);">
                                <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-xs);">Mexico Phase 2</div>
                                <div style="font-size: var(--text-sm); color: var(--on-surface-variant);">Additional revenue potential</div>
                            </div>
                            <div style="font-size: var(--text-sm); line-height: 1.6;">
                                <p><strong>Additional Value:</strong> {{pricing.expansionOpportunity.mexicoPhase2}}</p>
                                <p><strong>Total Engagement:</strong> {{pricing.expansionOpportunity.totalMultiYear}}</p>
                                <p style="margin-top: var(--space-sm); color: var(--on-surface-variant);">
                                    {{pricing.expansionOpportunity.note}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {{/pricing.expansionOpportunity}}
        </section>
        {{/pricing}}

        <!-- Call Notes Section -->
        {{#notes}}
        <section class="section intersection-animate">
            <div class="section-header">
                <h2 class="section-title">Call Intelligence</h2>
                <p class="section-subtitle">Meeting notes and key insights</p>
            </div>

            <div class="collapsible">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3 class="collapsible-title">Call History</h3>
                    <span class="collapsible-icon">▼</span>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-body">
                        {{#notes}}
                        <div class="card" style="margin-bottom: var(--space-md);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm);">
                                <div style="font-size: var(--text-sm); color: var(--on-surface-variant);">{{date}} • {{author}}</div>
                                <span style="padding: var(--space-xs) var(--space-sm); border-radius: var(--radius-2xl); font-size: var(--text-xs); font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; background: var(--surface-container); color: var(--on-surface-variant);">{{type}}</span>
                            </div>
                            <div style="font-size: var(--text-sm); line-height: 1.6; color: var(--on-surface);">{{content}}</div>
                            {{#recording}}
                            <div style="margin-top: var(--space-sm);">
                                <a href="#" style="color: var(--primary); text-decoration: none; font-weight: 600; font-size: var(--text-xs);">🎥 {{recording}}</a>
                            </div>
                            {{/recording}}
                        </div>
                        {{/notes}}
                    </div>
                </div>
            </div>
        </section>
        {{/notes}}

        <!-- Action Items -->
        {{#callToAction}}
        <section class="section intersection-animate">
            <div class="section-header">
                <h2 class="section-title">Next Steps</h2>
                <p class="section-subtitle">Critical actions and success metrics</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-lg); margin: var(--space-2xl) 0;">
                <div style="background: linear-gradient(135deg, var(--surface-variant), var(--surface-container)); border: 1px solid var(--outline-variant); border-radius: var(--radius-lg); padding: var(--space-lg);">
                    <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-md);">Immediate Actions</div>
                    <div style="margin-bottom: var(--space-md); padding: var(--space-sm); background: var(--primary); color: var(--on-primary); border-radius: var(--radius-md); font-weight: 600;">
                        {{callToAction.immediateNext}}
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, var(--surface-variant), var(--surface-container)); border: 1px solid var(--outline-variant); border-radius: var(--radius-lg); padding: var(--space-lg);">
                    <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-md);">Critical Questions</div>
                    <div style="display: grid; gap: var(--space-sm);">
                        {{#callToAction.criticalQuestions}}
                        <div style="padding: var(--space-sm) 0; font-size: var(--text-sm); color: var(--on-surface-variant); border-bottom: 1px solid var(--outline-variant); line-height: 1.5;">{{.}}</div>
                        {{/callToAction.criticalQuestions}}
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, var(--surface-variant), var(--surface-container)); border: 1px solid var(--outline-variant); border-radius: var(--radius-lg); padding: var(--space-lg);">
                    <div style="font-size: var(--text-lg); font-weight: 700; color: var(--on-surface); margin-bottom: var(--space-md);">Success Metrics</div>
                    <div style="display: grid; gap: var(--space-sm);">
                        {{#callToAction.successMetrics}}
                        <div style="padding: var(--space-sm) 0; font-size: var(--text-sm); color: var(--on-surface-variant); border-bottom: 1px solid var(--outline-variant); line-height: 1.5;">{{.}}</div>
                        {{/callToAction.successMetrics}}
                    </div>
                </div>
            </div>
        </section>
        {{/callToAction}}
    </main>

    <footer style="margin-top: var(--space-3xl); padding: var(--space-2xl) 0; border-top: 1px solid var(--outline-variant); text-align: center; color: var(--on-surface-variant); font-size: var(--text-sm);">
        <div class="container">
            <p>Generated with <span style="color: var(--primary); font-weight: 700;">Make.com Sales Portal</span> • Last updated: {{lastUpdated}}</p>
            <p style="margin-top: var(--space-sm); font-size: var(--text-xs);">Opportunity ID: {{opportunityId}}</p>
        </div>
    </footer>

    <script>
        // Web Components for Modern Architecture
        class OpportunityPortal extends HTMLElement {
            constructor() {
                super();
                this.initializeObservers();
                this.bindEvents();
            }

            connectedCallback() {
                this.initializeAnimations();
                this.setupViewTransitions();
            }

            initializeObservers() {
                // Intersection Observer for Scroll Animations
                this.intersectionObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                });

                // Observe all animatable elements
                document.querySelectorAll('.intersection-animate').forEach(el => {
                    this.intersectionObserver.observe(el);
                });
            }

            setupViewTransitions() {
                // Modern View Transitions API
                if ('startViewTransition' in document) {
                    document.addEventListener('click', (e) => {
                        if (e.target.matches('.nav-link')) {
                            e.preventDefault();
                            const targetId = e.target.getAttribute('href');
                            const target = document.querySelector(targetId);
                            
                            if (target) {
                                document.startViewTransition(() => {
                                    target.scrollIntoView({ behavior: 'smooth' });
                                });
                            }
                        }
                    });
                }
            }

            initializeAnimations() {
                // Web Animations API for Complex Animations
                this.setupParallaxEffects();
                this.animateCounters();
            }

            setupParallaxEffects() {
                const hero = document.querySelector('.hero');
                if (hero) {
                    window.addEventListener('scroll', () => {
                        const scrolled = window.pageYOffset;
                        const parallax = scrolled * 0.5;
                        hero.style.transform = `translateY(${parallax}px)`;
                    });
                }
            }

            animateCounters() {
                const counters = document.querySelectorAll('[data-counter]');
                counters.forEach(counter => {
                    const target = parseInt(counter.dataset.counter);
                    const animation = counter.animate([
                        { '--counter': 0 },
                        { '--counter': target }
                    ], {
                        duration: 2000,
                        easing: 'ease-out'
                    });
                });
            }

            bindEvents() {
                // Enhanced Event Delegation
                document.addEventListener('click', this.handleClick.bind(this));
                document.addEventListener('scroll', this.handleScroll.bind(this));
                
                // Modern Pointer Events
                document.addEventListener('pointerdown', this.handlePointerDown.bind(this));
            }

            handleClick(e) {
                // Collapsible functionality with enhanced animations
                if (e.target.closest('.collapsible-header')) {
                    const header = e.target.closest('.collapsible-header');
                    const collapsible = header.parentElement;
                    const content = collapsible.querySelector('.collapsible-content');
                    
                    if (collapsible.classList.contains('expanded')) {
                        // Collapse with Web Animations API
                        const animation = content.animate([
                            { maxHeight: content.scrollHeight + 'px', opacity: 1 },
                            { maxHeight: '0px', opacity: 0 }
                        ], {
                            duration: 400,
                            easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                        });
                        
                        animation.onfinish = () => {
                            collapsible.classList.remove('expanded');
                        };
                    } else {
                        // Expand
                        collapsible.classList.add('expanded');
                        content.animate([
                            { maxHeight: '0px', opacity: 0 },
                            { maxHeight: content.scrollHeight + 'px', opacity: 1 }
                        ], {
                            duration: 400,
                            easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                        });
                    }
                }
            }

            handleScroll() {
                // Navigation scroll spy with modern features
                this.updateActiveNavigation();
                this.updateScrollProgress();
            }

            handlePointerDown(e) {
                // Modern pointer interaction feedback
                if (e.target.matches('.btn') || e.target.matches('.card')) {
                    e.target.style.setProperty('--pointer-x', e.clientX + 'px');
                    e.target.style.setProperty('--pointer-y', e.clientY + 'px');
                }
            }

            updateActiveNavigation() {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('.nav-link');
                
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    if (window.scrollY >= sectionTop) {
                        current = section.getAttribute('id');
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + current) {
                        link.classList.add('active');
                    }
                });
            }

            updateScrollProgress() {
                const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (winScroll / height) * 100;
                
                document.documentElement.style.setProperty('--scroll-progress', scrolled + '%');
            }
        }

        // Service Worker for Offline Capability
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('data:text/javascript;base64,' + btoa(`
                const CACHE_NAME = 'sales-portal-v1';
                self.addEventListener('install', e => {
                    e.waitUntil(
                        caches.open(CACHE_NAME).then(cache => {
                            return cache.addAll(['/']);
                        })
                    );
                });
                self.addEventListener('fetch', e => {
                    e.respondWith(
                        caches.match(e.request).then(response => {
                            return response || fetch(e.request);
                        })
                    );
                });
            `));
        }

        // Global Functions for Template Compatibility
        function toggleCollapsible(header) {
            const event = new CustomEvent('click', { bubbles: true });
            header.dispatchEvent(event);
        }

        // Initialize Portal
        document.addEventListener('DOMContentLoaded', () => {
            customElements.define('opportunity-portal', OpportunityPortal);
            const portal = new OpportunityPortal();
            document.body.appendChild(portal);
        });

        // Modern CSS Custom Properties Animation
        document.documentElement.style.setProperty('--load-time', Date.now());

        // Performance Observer for Core Web Vitals
        if ('PerformanceObserver' in window) {
            new PerformanceObserver((list) => {
                for (const entry of list.getEntries()) {
                    if (entry.entryType === 'largest-contentful-paint') {
                        console.log('LCP:', entry.startTime);
                    }
                }
            }).observe({ entryTypes: ['largest-contentful-paint'] });
        }

        // CSS Paint Worklet Registration (if supported)
        if ('CSS' in window && 'paintWorklet' in CSS) {
            CSS.paintWorklet.addModule('data:text/javascript;base64,' + btoa(`
                class GradientPainter {
                    paint(ctx, size, props) {
                        const gradient = ctx.createLinearGradient(0, 0, size.width, size.height);
                        gradient.addColorStop(0, 'oklch(0.7 0.15 280)');
                        gradient.addColorStop(1, 'oklch(0.65 0.15 150)');
                        ctx.fillStyle = gradient;
                        ctx.fillRect(0, 0, size.width, size.height);
                    }
                }
                registerPaint('custom-gradient', GradientPainter);
            `));
        }
    </script>
</body>
</html>